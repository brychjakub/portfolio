<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width,initial-scale=1" name="viewport">
  <meta content="description" name="description">
  <meta name="google" content="notranslate" />
  <meta content="Mashup templates have been developped by Orson.io team" name="author">
  <meta name="msapplication-tap-highlight" content="no">

  <link href="./static/assets/dog.ico" rel="icon">

  <title>Search</title>

<link href="./static/main.3f6952e4.css" rel="stylesheet">

</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0MR03EXJRN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0MR03EXJRN');
</script>

<body class="">
<div id="site-border-left"></div>
<div id="site-border-right"></div>
<div id="site-border-top"></div>
<div id="site-border-bottom"></div>

<header>
  <nav class="navbar navbar-fixed-top navbar-default">
    <div class="container">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

      <div class="collapse navbar-collapse" id="navbar-collapse">
        <ul class="nav navbar-nav ">
          <li><a href="./index.html" title="">01 : Domů</a></li>
          <li><a href="./works.html" title="">02 : Projekty</a></li>
          <li><a href="./about.html" title="">03 : Něco o mně</a></li>
          <li><a href="./contact.html" title="">04 : Kontakty</a></li>
          <li><a href="./emerge"><img src="./static/assets/british.png" alt="English Version" width="20" height="20" /></a>
</li>
        </ul>


      </div>
    </div>
  </nav>
</header>

<body>
    <div class="section-container">

        <div class="container">
            <div class="row">
                    <div class="col-sm-8 col-sm-offset-2 section-container-spacer">
                        <div class="text-center">
    <h2>Search for projects by Language or Tech</h2>

    <form id="searchForm">
        <label for="language">Enter Technology/Language: </label>
        <input type="text" id="language" name="language" placeholder="e.g. Python, JavaScript...">
        <button type="submit">Search</button>
    </form>

    <div id="results">
        <!-- Results will appear here -->
    </div>

    <script>
        document.querySelector('#searchForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const language = document.getElementById('language').value;
            const resultsDiv = document.getElementById('results');

            const response = await fetch(`/search?language=${language}`);
            const data = await response.json();

            resultsDiv.innerHTML = ''; // Clear previous results

            if (data.message) {
                resultsDiv.innerHTML = `<p>${data.message}</p>`;
            } else {
                data.forEach(result => {
                    resultsDiv.innerHTML += `
                        <div class="result">
                            <h3>${result.title}</h3>
                            <p>${result.description}</p>
                            <a href="${result.link}" target="_blank">View More</a>
                        </div>
                    `;
                });
            }
        });
    </script>
</div>
                    </div>
            </div>
        </div>
</body>
</html>
